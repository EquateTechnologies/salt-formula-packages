{% set packages_map = salt['grains.filter_by']({
  'default': {
    'lookup': {
      'pkgs': {
        'pip': 'python2-pip',
        'npm': 'nodejs',
        'gem': 'rubygems'
      },
    },
    'install': {},
    'uninstall': [],
    'gem': {
      'install': {},
      'uninstall': [],
    },
    'pip': {
      'install': {},
      'uninstall': [],
    },
    'npm': {
      'install': {},
      'uninstall': [],
    },
    'gem_install': False,
    'pip_install': False,
    'npm_install': False,
  },
},
merge=salt['pillar.get']('packages', {}),
default='default')
%}
